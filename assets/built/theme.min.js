(()=>{var e,t=document.getElementById("dark-mode-toggle");t&&((e=localStorage.getItem("data-color-scheme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"))&&document.documentElement.setAttribute("data-color-scheme",e),t.onclick=function(){var e="dark"==document.documentElement.getAttribute("data-color-scheme")?"light":"dark",t=(document.documentElement.setAttribute("data-color-scheme",e),localStorage.setItem("data-color-scheme",e),document.querySelector("script[data-color-scheme]"));t&&t.setAttribute("data-color-scheme",e)})})(),(()=>{let n=/(^-{1,})(.*)/;{var o,i,c=document.querySelectorAll(".nav-items .item");let t=null;for(let e=0;e<c.length;++e){var r,a,l=c[e].lastElementChild.innerText.match(n);l&&(c[e].lastElementChild.innerText=c[e].lastElementChild.innerText.replace(n,"$2").trim(),r=c[e].lastElementChild.innerText,1==l[1].length?(c[e].classList.add("has-submenu"),(l=document.createElement("a")).setAttribute("href","#"),l.classList.add("tabindex=0"),l.appendChild(document.createTextNode(r)),(a=document.createElement("sup")).appendChild(document.createTextNode(" ⌄")),l.appendChild(a),a=r,i=o=r=void 0,(r=document.createElement("div")).classList.add("submenu"),(o=document.createElement("div")).classList.add("submenu-header"),(i=document.createElement("p")).classList.add("submenu-title"),i.appendChild(document.createTextNode(a)),o.appendChild(i),(a=document.createElement("button")).classList.add("submenu-close","icon"),a.appendChild(document.createTextNode("✕")),o.appendChild(a),r.appendChild(o),(i=document.createElement("ol")).classList.add("submenu-items"),r.appendChild(i),a=r,c[e].replaceChildren(l),c[e].appendChild(a),t=c[e]):t&&(c[e].classList.add("submenu-item"),c[e].classList.remove("item"),t.querySelector(".submenu-items").appendChild(c[e])))}document.querySelector(".nav").classList.add("nav-ready")}})(),(()=>{let o=document.querySelector(".nav");document.querySelector(".nav-toggle"),document.addEventListener("click",function(e){var t=o.querySelector(".active-submenu");let n;e.target.closest(".submenu-item")||((n=e.target.closest(".item")&&!e.target.closest(".submenu-header")?e.target.closest(".item"):n)?(n.classList.contains("has-submenu")&&e.preventDefault(),t&&t.classList.remove("active-submenu"),n.contains(t)||n.classList.contains("has-submenu")&&n.querySelector(".submenu").classList.add("active-submenu")):e.target.closest(".nav-toggle")?o.classList.toggle("active-nav"):t?t.classList.remove("active-submenu"):o.classList.contains("active-nav")&&o.classList.remove("active-nav"))})})(),((o,i)=>{var c,t,r,a,n,l,s,d=document.querySelector(".pagination"),m=document.querySelector("link[rel=next]");function u(){var t,n,e;404===this.status?(window.removeEventListener("scroll",h),window.removeEventListener("resize",p),d.remove()):(e=this.response.querySelectorAll(".article-card"),t=document.createDocumentFragment(),n=[],e.forEach(function(e){e=document.importNode(e,!0);i&&(e.style.position="absolute",e.style.visibility="hidden",n.push(e)),t.appendChild(e)}),c.appendChild(t),i&&i(n),(e=this.response.querySelector("link[rel=next]"))?m.href=e.href:(window.removeEventListener("scroll",h),window.removeEventListener("resize",p),d&&d.remove()),s=document.documentElement.scrollHeight,a=r=!1,o&&imagesLoaded(c,function(){c.getBoundingClientRect().bottom<=l&&(console.log(c.getBoundingClientRect().bottom,l),g())}))}function e(){var e;a||(o&&n+l<=s-t?r=!1:(a=!0,(e=new window.XMLHttpRequest).responseType="document",e.addEventListener("load",u),e.open("GET",m.href),e.send(null)))}function g(){r||window.requestAnimationFrame(e),r=!0}function h(){n=window.scrollY,g()}function p(){l=window.innerHeight,s=document.documentElement.scrollHeight,g()}!m&&d?d.remove():(c=document.querySelector(".paginated"))&&(a=r=!(t=300),n=window.scrollY,l=window.innerHeight,s=document.documentElement.scrollHeight,o?(window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",p),g()):d.addEventListener("click",g))})(!1),(()=>{let t=document.getElementById("copy-link");t&&t.addEventListener("click",function(){navigator.clipboard.writeText(window.location.href);let e=document.createElement("div");e.className="tooltip",e.textContent="Copied!",t.appendChild(e),setTimeout(()=>{e.remove()},1e3)},!1)})(),tocbot.init({tocSelector:".toc",contentSelector:".article-content",hasInnerContainers:!0}),window.onload=function(){var e=document.querySelector(".table-of-contents");e&&(e.style.display="none",e.offsetHeight,e.style.display="block")},(()=>{let n=document.querySelector("#toc-toggle"),o=document.querySelector(".table-of-contents");function i(){o.classList.toggle("toc-open")}o&&n&&(window.addEventListener("click",function(e){var t=null;(t=o.querySelector(".toc-open"))&&t.contains(e.target)||o.contains(e.target)||n.contains(e.target)||!o.classList.contains("toc-open")||i()}),n.addEventListener("click",i,!1))})(),(()=>{let o=document.querySelector("#toc-toggle");o&&requestAnimationFrame(function e(){var t=document.body.clientHeight,n=document.documentElement.clientHeight,t=window.scrollY/(t-n)*100;o.setAttribute("data-progress",t.toFixed(0)+"%"),o.style.setProperty("--conic-gradient",`var(--reading-progress-color) 0deg 0%,  
      var(--reading-progress-color) 0deg ${t.toFixed(3)}%,
      var(--background-color) 0deg ${1-t.toFixed(3)}%,
      var(--background-color) 0deg 360deg`),requestAnimationFrame(e)})})();import PhotoSwipeLightbox from"./photoswipe-lightbox.esm.min.js";(()=>{var e=' <svg aria-hidden="true" class="pswp__icn" viewBox="0 0 32 30" width="32" height="30">    <path d="M26.667 14.667v2.667h-16L18 24.667l-1.893 1.893L5.547 16l10.56-10.56L18 7.333l-7.333 7.333h16z">     </path> </svg>';(e=new PhotoSwipeLightbox({arrowPrevSVG:e,arrowNextSVG:e,zoom:!1,gallery:".kg-image-card, .kg-gallery-card",children:"img",bgOpacity:.8,closeOnScroll:!0,Xpadding:{top:40,bottom:40,left:0,right:0},imageClickAction:"close",tapAction:"close",pswpModule:()=>import("./photoswipe.esm.min.js")})).init(),e.addFilter("domItemData",(e,t,n)=>(e&&(e.w=t.getAttribute("width"),e.h=t.getAttribute("height"),e.h&&e.w||(e.w=t.naturalWidth,e.h=t.naturalHeight),e.src=t.getAttribute("src"),e.srcset=t.getAttribute("srcset")),e))})();//# sourceMappingURL=theme.min.js.map
