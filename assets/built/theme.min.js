!function(){var e,t=document.getElementById("dark-mode-toggle");t&&((e=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"))&&document.documentElement.setAttribute("data-theme",e),setTimeout(function(){},1e3),t.onclick=function(){var e="light"===document.documentElement.getAttribute("data-theme")?"dark":"light";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)})}(),function(){var e,t,n,o,c,i=/(^-{1,})(.*)/,r=document.querySelectorAll(".menu .item");let l,d,s;for(l=0;l<r.length;++l)(d=r[l].lastElementChild.innerText.match(i))&&(r[l].lastElementChild.innerText=r[l].lastElementChild.innerText.replace(i,"$2"),c=r[l].lastElementChild.innerText,1==d[1].length?(r[l].classList.add("has-submenu"),(e=document.createElement("a")).setAttribute("href","#"),e.classList.add("tabindex=0"),e.appendChild(document.createTextNode(c)),(t=document.createElement("sup")).appendChild(document.createTextNode(" ⌄")),e.appendChild(t),(t=document.createElement("ul")).classList.add("submenu"),(n=document.createElement("span")).classList.add("submenu-header"),(o=document.createElement("p")).classList.add("submenu-title"),o.appendChild(document.createTextNode(c)),n.appendChild(o),(c=document.createElement("p")).classList.add("submenu-close"),c.appendChild(document.createTextNode("✕")),n.appendChild(c),t.appendChild(n),r[l].replaceChildren(e),r[l].appendChild(t),s=r[l]):s&&(r[l].classList.add("subitem"),r[l].classList.remove("item"),s.getElementsByTagName("ul")[0].appendChild(r[l])));document.querySelector(".menu").classList.add("menu-ready")}(),function(){var e=document.querySelector(".menu-toggle"),t=document.querySelector(".menu-close");const n=document.querySelector(".menu");var o,c=document.querySelectorAll(".has-submenu");function i(){n.classList.toggle("menu-open")}function r(e){e.preventDefault(),this.classList.contains("submenu-open")?this.classList.remove("submenu-open"):(n.querySelector(".submenu-open")&&n.querySelector(".submenu-open").classList.remove("submenu-open"),this.classList.add("submenu-open"))}window.addEventListener("click",function(e){!n.querySelector(".submenu-open")||n.querySelector(".submenu-open").contains(e.target)||n.querySelector(".submenu-open").classList.remove("submenu-open")}),e.addEventListener("click",i,!1),t.addEventListener("click",i,!1);for(o of c)o.querySelector(".submenu")&&o.addEventListener("click",r,!1),o.addEventListener("keypress",r,!1)}(),function(n){var o,t,c,i,r,l,d,s=document.querySelector(".pagination"),a=document.querySelector("link[rel=next]");function u(){var t,e;404===this.status?(window.removeEventListener("scroll",p),window.removeEventListener("resize",h),s.remove()):(e=this.response.querySelectorAll(".article-card"),t=document.createDocumentFragment(),e.forEach(function(e){e=document.importNode(e,!0);t.appendChild(e)}),o.appendChild(t),(e=this.response.querySelector("link[rel=next]"))?a.href=e.href:(window.removeEventListener("scroll",p),window.removeEventListener("resize",h),s&&s.remove()),d=document.documentElement.scrollHeight,i=c=!1,n&&imagesLoaded(o,function(){o.getBoundingClientRect().bottom<=l&&(console.log(o.getBoundingClientRect().bottom,l),m())}))}function e(){var e;i||(n&&r+l<=d-t?c=!1:(i=!0,(e=new window.XMLHttpRequest).responseType="document",e.addEventListener("load",u),e.open("GET",a.href),e.send(null)))}function m(){c||window.requestAnimationFrame(e),c=!0}function p(){r=window.scrollY,m()}function h(){l=window.innerHeight,d=document.documentElement.scrollHeight,m()}!a&&s?s.remove():(o=document.querySelector(".paginated"))&&(i=c=!(t=300),r=window.scrollY,l=window.innerHeight,d=document.documentElement.scrollHeight,n?(window.addEventListener("scroll",p,{passive:!0}),window.addEventListener("resize",h),m()):s.addEventListener("click",m))}(!1),function(){const e=document.querySelector(".social-link-icon-copy");e&&e.addEventListener("click",function(){navigator.clipboard.writeText(window.location.href),e.insertAdjacentHTML("afterend","<div class=copy-link-tooltip>copied</div>"),setTimeout(()=>{document.querySelectorAll(".copy-link-tooltip").forEach(e=>e.remove())},1e3)},!1)}(),tocbot.init({tocSelector:".toc",contentSelector:".article-content",hasInnerContainers:!0}),function(){const t=document.querySelector("#toc-toggle"),n=document.querySelector(".table-of-contents");function o(){n.classList.toggle("toc-open")}t&&(window.addEventListener("click",function(e){n.querySelector("toc-open")&&!n.querySelector("toc-open").contains(e.target)&&n.querySelector("toc-open")&&n.querySelector("toc-open").classList.remove("toc-open"),n.contains(e.target)||t.contains(e.target)||!n.classList.contains("toc-open")||o()}),t.addEventListener("click",o,!1))}(),function(){const o=document.querySelector("#toc-toggle");o&&requestAnimationFrame(function e(){var t=document.body.clientHeight,n=document.documentElement.clientHeight,t=window.scrollY/(t-n)*100;o.setAttribute("progress",t.toFixed(0)+"%"),o.style.setProperty("--conic-gradient",`var(--theme-accent-color) 0deg 0%,  
      var(--theme-accent-color) 0deg ${t.toFixed(3)}%,
      var(--background-color) 0deg ${1-t.toFixed(3)}%,
      var(--background-color) 0deg 360deg`),requestAnimationFrame(e)})}();import PhotoSwipeLightbox from"./photoswipe-lightbox.esm.min.js";!function(){var e=' <svg aria-hidden="true" class="pswp__icn" viewBox="0 0 32 30" width="32" height="30">    <path d="M26.667 14.667v2.667h-16L18 24.667l-1.893 1.893L5.547 16l10.56-10.56L18 7.333l-7.333 7.333h16z">     </path> </svg>',e=new PhotoSwipeLightbox({arrowPrevSVG:e,arrowNextSVG:e,zoom:!1,gallery:".kg-image-card, .kg-gallery-card",children:"img",bgOpacity:.8,closeOnScroll:!0,Xpadding:{top:40,bottom:40,left:0,right:0},pswpModule:()=>import("./photoswipe.esm.min.js")});e.init(),e.addFilter("domItemData",(e,t,n)=>(e&&(e.w=t.getAttribute("width"),e.h=t.getAttribute("height"),e.h&&e.w||(e.w=t.naturalWidth,e.h=t.naturalHeight),e.src=t.getAttribute("src"),e.srcset=t.getAttribute("srcset")),e))}();//# sourceMappingURL=theme.min.js.map
