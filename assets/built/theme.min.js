(()=>{var e=document.querySelector("button.dark-mode"),t=document.querySelector("button.light-mode");if(!e||!t)return;var n=localStorage.getItem("data-color-scheme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");function i(){if(r){let t=getComputedStyle(document.documentElement).getPropertyValue("--icon-color").trim();r.forEach(e=>{e=e.contentDocument;e&&e.querySelectorAll("path, circle, rect, ellipse").forEach(e=>{e.setAttribute("fill",t),e.setAttribute("stroke",t)})})}}function o(e){var t="dark"==document.documentElement.getAttribute("data-color-scheme")?"light":"dark",n=(document.documentElement.setAttribute("data-color-scheme",t),localStorage.setItem("data-color-scheme",t),document.querySelector("script[data-color-scheme]"));n&&n.setAttribute("data-color-scheme",t),i()}n&&document.documentElement.setAttribute("data-color-scheme",n);let r=document.querySelectorAll(".sidebar-link-icon");i(),e.addEventListener("click",o),t.addEventListener("click",o)})(),(()=>{let n=/(^-{1,})(.*)/;{var i,o=document.querySelectorAll(".menu-links .menu-link-item");let t=null;for(let e=0;e<o.length;++e){var r,s,l,c=o[e].lastElementChild.innerText.match(n);c&&(o[e].lastElementChild.innerText=o[e].lastElementChild.innerText.replace(n,"$2").trim(),r=o[e].lastElementChild.innerText,1==c[1].length?(o[e].classList.add("has-submenu"),(c=document.createElement("a")).setAttribute("href","#"),c.classList.add("tabindex=0"),c.appendChild(document.createTextNode(r)),(s=document.createElement("sup")).appendChild(document.createTextNode(" âŒ„")),c.appendChild(s),s=r,l=i=r=void 0,(r=document.createElement("div")).classList.add("submenu-links-container"),(i=document.createElement("div")).classList.add("submenu-links-header"),(l=document.createElement("p")).classList.add("submenu-links-title"),l.appendChild(document.createTextNode(s)),i.appendChild(l),r.appendChild(i),(s=document.createElement("ul")).classList.add("submenu-links"),r.appendChild(s),l=r,o[e].replaceChildren(c),o[e].appendChild(l),t=o[e]):t&&(o[e].classList.add("submenu-link-item"),o[e].classList.remove("menu-link-item"),t.querySelector(".submenu-links").appendChild(o[e])))}document.querySelector(".menu-links-container").classList.add("menu-links-ready")}})(),(()=>{let i=document.querySelector(".menu-links-container");document.querySelector(".menu-links-toggle"),document.addEventListener("click",function(e){var t=i.querySelector(".submenu-links-active");let n;e.target.closest(".submenu-link-item")||((n=e.target.closest(".menu-link-item")&&!e.target.closest(".submenu-links-header")?e.target.closest(".menu-link-item"):n)?(n.classList.contains("has-submenu")&&e.preventDefault(),t&&t.classList.remove("submenu-links-active"),n.contains(t)||n.classList.contains("has-submenu")&&n.querySelector(".submenu-links-container").classList.add("submenu-links-active")):e.target.closest(".menu-links-toggle")?i.classList.toggle("menu-links-active"):t?t.classList.remove("submenu-links-active"):i.classList.contains("menu-links-active")&&i.classList.remove("menu-links-active"))})})(),(()=>{let r={share:document.querySelector(".share-links-container"),secondary:document.querySelector(".secondary-links-container"),sidebar:document.querySelector(".sidebar")};function s(e){e.classList.toggle("display-item-details")}document.addEventListener("click",function(e){var{share:t,secondary:n,sidebar:i}=r,o=e.target.closest("a");i?.contains(e.target)&&o||(t?.contains(e.target)?(s(t),n?.classList.contains("display-item-details")&&s(n),i?.classList.contains("display-item-details")&&s(i)):n?.contains(e.target)?(s(n),t?.classList.contains("display-item-details")&&s(t),i?.classList.contains("display-item-details")&&s(i)):(i?.contains(e.target)&&s(i),t?.classList.contains("display-item-details")&&s(t),n?.classList.contains("display-item-details")&&s(n)))});var e=document.querySelectorAll(".internal-tags .sidebar-link-item");e&&(e.forEach(e=>{var t=e.querySelector("a");let n=t.nextElementSibling;for(;n;){var i=n.nextElementSibling;n.remove(),n=i}var o=t.querySelector(".sidebar-link-description"),t=t.querySelector(".sidebar-link-icon"),r=t.contentDocument,s=/^##[0-9]*-/;o&&(s.test(o.textContent)?o.textContent=o.textContent.replace(s,""):e.remove()),r&&(o=r.querySelector("svg"))&&(s=o.getAttribute("viewBox"),e=o.getAttribute("width"),r=o.getAttribute("height"),s||(e&&r?o.setAttribute("viewBox",`0 0 ${e} `+r):(s=o.getBBox(),o.setAttribute("viewBox",`0 0 ${s.width} `+s.height))),o.setAttribute("height","20px"),o.setAttribute("width","20px")),t.classList.remove("hidden")}),e=document.querySelectorAll(".secondary-links .sidebar-link-item"))&&e.forEach(t=>{var n=document.createElement("span"),i=t.querySelector(".sidebar-link-description");if(i){var o=i.textContent.replace(/[^a-zA-Z0-9\s]/g," ").trim().split(/\s+/);let e=o.slice(0,2).map(e=>e.charAt(0).toUpperCase()).join("");1===o.length&&(e=i.textContent.slice(0,2).toUpperCase()),n.textContent=e,n.classList.add("sidebar-link-icon");o=t.querySelector(".sidebar-link");o&&o.insertBefore(n,o.firstChild)}})})(),((i,o)=>{var r,t,s,l,n,c,a,d=document.querySelector(".pagination"),u=document.querySelector("link[rel=next]");function m(){var t,n,e;404===this.status?(window.removeEventListener("scroll",h),window.removeEventListener("resize",p),d.remove()):(e=this.response.querySelectorAll(".article-card"),t=document.createDocumentFragment(),n=[],e.forEach(function(e){e=document.importNode(e,!0);o&&(e.style.position="absolute",e.style.visibility="hidden",n.push(e)),t.appendChild(e)}),r.appendChild(t),o&&o(n),(e=this.response.querySelector("link[rel=next]"))?u.href=e.href:(window.removeEventListener("scroll",h),window.removeEventListener("resize",p),d&&d.remove()),a=document.documentElement.scrollHeight,l=s=!1,i&&imagesLoaded(r,function(){r.getBoundingClientRect().bottom<=c&&(console.log(r.getBoundingClientRect().bottom,c),g())}))}function e(){var e;l||(i&&n+c<=a-t?s=!1:(l=!0,(e=new window.XMLHttpRequest).responseType="document",e.addEventListener("load",m),e.open("GET",u.href),e.send(null)))}function g(){s||window.requestAnimationFrame(e),s=!0}function h(){n=window.scrollY,g()}function p(){c=window.innerHeight,a=document.documentElement.scrollHeight,g()}!u&&d?d.remove():(r=document.querySelector(".paginated"))&&(l=s=!(t=300),n=window.scrollY,c=window.innerHeight,a=document.documentElement.scrollHeight,i?(window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",p),g()):d.addEventListener("click",g))})(!1),(()=>{let t=document.getElementById("copy-link");t&&t.addEventListener("click",function(){navigator.clipboard.writeText(window.location.href);let e=document.createElement("div");e.className="tooltip",e.textContent="Copied!",t.appendChild(e),setTimeout(()=>{e.remove()},1e3)},!1)})(),tocbot.init({tocSelector:".toc",contentSelector:".article",hasInnerContainers:!0}),window.onload=function(){var e=document.querySelector(".table-of-contents");e&&(e.style.display="none",e.offsetHeight,e.style.display="flex")},(()=>{let n=document.querySelector(".toc-toggle"),i=document.querySelector(".table-of-contents");function o(){i.classList.toggle("toc-open")}i&&n&&(window.addEventListener("click",function(e){var t=null;(t=i.querySelector(".toc-open"))&&t.contains(e.target)||i.contains(e.target)||n.contains(e.target)||!i.classList.contains("toc-open")||o()}),n.addEventListener("click",o,!1))})(),(()=>{let i=document.querySelector(".toc-toggle");i&&requestAnimationFrame(function e(){var t=document.body.clientHeight,n=document.documentElement.clientHeight,t=window.scrollY/(t-n)*100;i.setAttribute("data-progress",t.toFixed(0)+"%"),i.style.setProperty("--conic-gradient",`var(--reading-progress-color) 0deg 0%,  
      var(--reading-progress-color) 0deg ${t.toFixed(3)}%,
      var(--background-color) 0deg ${1-t.toFixed(3)}%,
      var(--background-color) 0deg 360deg`),requestAnimationFrame(e)})})();import PhotoSwipeLightbox from"./photoswipe-lightbox.esm.min.js";(()=>{var e=' <svg aria-hidden="true" class="pswp__icn" viewBox="0 0 32 30" width="32" height="30">    <path d="M26.667 14.667v2.667h-16L18 24.667l-1.893 1.893L5.547 16l10.56-10.56L18 7.333l-7.333 7.333h16z">     </path> </svg>';(e=new PhotoSwipeLightbox({arrowPrevSVG:e,arrowNextSVG:e,zoom:!1,gallery:".kg-image-card, .kg-gallery-card",children:"img",bgOpacity:.8,closeOnScroll:!0,Xpadding:{top:40,bottom:40,left:0,right:0},imageClickAction:"close",tapAction:"close",pswpModule:()=>import("./photoswipe.esm.min.js")})).init(),e.addFilter("domItemData",(e,t,n)=>(e&&(e.w=t.getAttribute("width"),e.h=t.getAttribute("height"),e.h&&e.w||(e.w=t.naturalWidth,e.h=t.naturalHeight),e.src=t.getAttribute("src"),e.srcset=t.getAttribute("srcset")),e))})(),(()=>{let n=document.querySelector(".enrol-dialog");var e=document.querySelector(".enrol-dialog-button"),t=document.querySelector("form.enrol-newsletter");n&&e&&e.addEventListener("click",()=>{n.close(),n.style.display="none"}),t&&new MutationObserver(e=>{for(var t of e)if("class"===t.attributeName&&t.target.classList.contains("success")){n.showModal(),n.style.display="flex";break}}).observe(t,{attributes:!0,attributeFilter:["class"]})})();//# sourceMappingURL=theme.min.js.map
