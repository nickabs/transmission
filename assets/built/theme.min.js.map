{"version":3,"sources":["dark-mode-toggle.js","navigation.js","pagination.js","copy-link.js","table-of-contents.js","lightbox.js","enrol-dialog.js","demo.js"],"names":["darkModeButton","document","querySelector","lightModeButton","icons","querySelectorAll","storedDataColorScheme","localStorage","getItem","systemSchemePreference","window","matchMedia","matches","onClick","event","targetDataColorScheme","documentElement","getAttribute","commentsScript","setAttribute","setItem","updateIconColor","fillColor","getComputedStyle","getPropertyValue","trim","forEach","icon","svgDoc","contentDocument","element","addEventListener","menuIndentRegex","processMenuItems","div1","menuItems","let","submenu","i","length","menuName","sup","div","match","lastElementChild","innerText","replace","classList","add","anchor","createElement","appendChild","createTextNode","p1","ul","replaceChildren","remove","nav","activeSubmenu","clickedItem","target","closest","contains","preventDefault","toggle","internalTags","internalTagItems","regex","containers","share","secondary","sidebar","container","updateInternalTagIcons","svgElement","viewBox","naturalWidth","naturalHeight","bbox","getBBox","width","height","e","console","error","clickedLink","internalTag","firstLink","sibling","nextElementSibling","nextSibling","description","test","textContent","secondaryLinksItems","item","span","itemDescription","words","split","firstLetters","slice","map","word","charAt","toUpperCase","join","link","insertBefore","firstChild","isInfinite","callback","currentArticleList","buffer","ticking","loading","lastScrollY","lastWindowHeight","lastDocumentHeight","buttonElement","nextElement","onPageLoad","fragment","elems","resNextElement","this","status","removeEventListener","onScroll","onResize","nextPageArticleList","response","createDocumentFragment","clonedItem","importNode","style","position","visibility","push","href","scrollHeight","imagesLoaded","getBoundingClientRect","bottom","log","requestTick","onUpdate","xhr","XMLHttpRequest","responseType","open","send","requestAnimationFrame","scrollY","innerHeight","passive","copyLinkElement","getElementById","navigator","clipboard","writeText","location","tooltip","className","setTimeout","tocbot","init","tocSelector","contentSelector","hasInnerContainers","onload","toc","display","offsetHeight","tocButton","tableOfContents","toggleTableOfContents","tocOpenElement","tocToggleButton","updateProgress","totalHeight","body","clientHeight","windowHeight","progress","toFixed","setProperty","PhotoSwipeLightbox","arrow","lightbox","arrowPrevSVG","arrowNextSVG","zoom","gallery","children","bgOpacity","closeOnScroll","Xpadding","top","left","right","imageClickAction","tapAction","pswpModule","import","addFilter","itemData","linkEl","w","h","src","srcset","dialog","closeButton","form","close","MutationObserver","mutation","mutations","attributeName","showModal","observe","attributes","attributeFilter","site","classAlternatives","siteWide","navBarStyle","navBarOption","heroStyle","sidebarOption","footerOption","enrolOption","authorOption","homePage","focusPosition","post","tableOfContentsOption","relatedPostsOption","oneTimePaymentRequest","demoOptions","demoOptionsButton","innerHTML","optionsPickerContainer","Object","entries","sectionName","properties","fieldset","legend","pretifiedSectionName","property","options","formGroup","label","toLowerCase","select","id","name","placeholderOption","value","selected","disabled","includes","optionValue","option","section","values","find","validClasses","cls","details","summary","d","hr","downloadLink"],"mappings":"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","file":"theme.min.js","sourcesContent":["/*\n * toggle between dark and light mode\n * if the user has set a system preference then default to that setting\n * if they specify a setting using the site dark/light mode buttons, save it in local storage so it is remembered next time\n * \n*/\n(function() {\n    const darkModeButton = document.querySelector(\"button.dark-mode\");\n    const lightModeButton = document.querySelector(\"button.light-mode\");\n\n    if (! darkModeButton || ! lightModeButton) {\n        return;\n    }\n\n    const icons = document.querySelectorAll('.internal-tags .sidebar-link-icon'); // sidebar icons need to be updated according to the color scheme preference\n    const storedDataColorScheme = localStorage.getItem('data-color-scheme');\n    const systemSchemePreference = window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n\n    document.documentElement.setAttribute('data-color-scheme', storedDataColorScheme || systemSchemePreference);\n\n    /* \n     * where an svg icon is loaded externally, e.g in the sidebar, \n     * we have to update the svg paths to reflect the selected color scheme \n     */\n    function updateIconColor() {\n        // get current setting\n        const fillColor = getComputedStyle(document.documentElement).getPropertyValue('--icon-color').trim();\n        if (!icons) return;\n\n        icons.forEach(icon => {\n            const svgDoc = icon.contentDocument;\n            if (!svgDoc) return; \n\n            const elements = svgDoc.querySelectorAll('path, circle, rect, ellipse');\n            \n            elements.forEach(element => {\n                element.setAttribute('fill', fillColor);\n                element.setAttribute('stroke', fillColor);\n            });\n        });\n    }\n\n    function onClick(event) {\n        var currentScheme = document.documentElement.getAttribute(\"data-color-scheme\");\n        var targetDataColorScheme = currentScheme == \"dark\" ? \"light\" : \"dark\";\n\n        document.documentElement.setAttribute('data-color-scheme', targetDataColorScheme)\n\n        localStorage.setItem('data-color-scheme', targetDataColorScheme);\n\n        // set color-scheme on the comments iframe\n        // As of 5.0 Ghost helper supports {{comments mode=\"auto\" }} which will use the background color to determine if the theme is using a dark mode\n        // ... but this only works after a screen refresh.  The code below will make the scheme change on clicking the dark mode toggle\n        const commentsScript = document.querySelector('script[data-color-scheme]');\n        if (commentsScript) {\n            commentsScript.setAttribute('data-color-scheme', targetDataColorScheme);\n        };\n\n        /* update the sidebar icons */\n        updateIconColor();\n    }\n\n    darkModeButton.addEventListener('click', onClick);\n    lightModeButton.addEventListener('click', onClick);\n\n  })();","/* \n* create the <li> html structure under the <nav> element used in the site-header\n* the items are structured based on markup in the ghost navigation names:\n* names prefixed with - indicate a submenu and -- indicates a submenu item\n* for example\n*\n*  ghost navigation          rendered html\n*  -----------------         ------------------\n*  HOME                      <li class='menu-link-item'>\n*                              <a href='http://localhost:2368/'>HOME</a>\n*                            </li>\n*  -HONDA C90                <li class='menu-link-item has-submenu'>\n*                                <a href='#'>HONDA C90 ⌄</a>\n*                                <div class='submenu-links-container'>\n*                                    <div class='submenu-links-header'>\n*                                        <p class='submenu-links-title'>HONDA C90</p>\n*                                    </div>\n*                                    <ul class='submenu-links'>\n*  --introduction                        <li class='submenu-link-item'>\n*                                            <a href='http://localhost:2368/2019/11/16/honda-c90-introduction/'>introduction</a>\n*                                        </li>\n*  --engine                              <li class='submenu-link-item'>\n*                                            <a href='http://localhost:2368/tag/engine/'>engine</a>\n*                                        </li>\n*                                    </ul>\n*                                </div>\n*                            </li>\n*/\n\n(function () {\n  const menuIndentRegex = /(^-{1,})(.*)/; // Match the -submenu and --submenu-link-item navigation entries\n\n  function createSubMenu(menuName) {\n      const div = document.createElement('div');\n      div.classList.add('submenu-links-container');\n\n      const div1 = document.createElement('div');\n      div1.classList.add('submenu-links-header');\n\n      const p1 = document.createElement('p');\n      p1.classList.add('submenu-links-title');\n      p1.appendChild(document.createTextNode(menuName));\n      div1.appendChild(p1);\n\n      div.appendChild(div1);\n\n      const ul = document.createElement('ul');\n      ul.classList.add('submenu-links');\n\n      div.appendChild(ul);\n\n      return div;\n  }\n\n  function processMenuItems() {\n      const menuItems = document.querySelectorAll('.menu-links .menu-link-item');\n      let submenu = null;\n\n      for (let i = 0; i < menuItems.length; ++i) {\n          const match = menuItems[i].lastElementChild.innerText.match(menuIndentRegex);\n\n          if (match) {\n              // Remove the submenu & submenu-link-item indent indicators (- --)\n              menuItems[i].lastElementChild.innerText = menuItems[i].lastElementChild.innerText.replace(menuIndentRegex,'$2').trim();\n              const menuName=menuItems[i].lastElementChild.innerText;\n\n              if (match[1].length == 1) { // Submenu (-)\n                  menuItems[i].classList.add('has-submenu');\n\n                  const anchor = document.createElement('a');\n                  anchor.setAttribute('href', '#');\n                  anchor.classList.add('tabindex=0');\n                  anchor.appendChild(document.createTextNode(menuName));\n          \n                  const sup = document.createElement('sup');\n                  sup.appendChild(document.createTextNode(' ⌄'));\n                  anchor.appendChild(sup);\n\n                  const div = createSubMenu(menuName);\n                  menuItems[i].replaceChildren(anchor);\n                  menuItems[i].appendChild(div);\n                  submenu = menuItems[i];\n              } else if (submenu) { // Submenu item (--)\n                  menuItems[i].classList.add('submenu-link-item');\n                  menuItems[i].classList.remove('menu-link-item');\n                  submenu.querySelector('.submenu-links').appendChild(menuItems[i]);\n              }\n          }\n      }\n      document.querySelector('.menu-links-container').classList.add('menu-links-ready');\n  }\n\n  processMenuItems();\n})();\n\n/* \n * open/close nav (main) menu and submenus\n * .menu-links-container.menu-links-active is set when the nav is opened using the hamburger button \n * .submenu.submenu-links-active is set when an item with a submenu is opened\n*/\n(function() {\n  const nav = document.querySelector('.menu-links-container');\n  const navToggle = document.querySelector('.menu-links-toggle');\n\n  function handleDocumentClick(event) {\n    let activeSubmenu = nav.querySelector('.submenu-links-active');\n    let clickedItem;\n\n\n    // when a submenu item is clicked no need to do anythng further (new page will open)\n    if (event.target.closest(\".submenu-link-item\")) {\n      return;\n    }\n    else if (event.target.closest(\".menu-link-item\") && ! event.target.closest(\".submenu-links-header\")) { // do not count a click on a submenu header as a clicked item\n      clickedItem= event.target.closest(\".menu-link-item\");\n    }\n\n    if (clickedItem) {\n      if (clickedItem.classList.contains('has-submenu')) {\n        event.preventDefault(); // prevent the page scrolling to the top when a menu item is clicked;\n      }\n\n      if (activeSubmenu) { // close any previously opened submenu\n        activeSubmenu.classList.remove('submenu-links-active');\n      }\n\n      if (! clickedItem.contains(activeSubmenu)) { // do not reopen the submenu item if it was closed by the statement above\n        if (clickedItem.classList.contains(\"has-submenu\")) {\n          clickedItem.querySelector(\".submenu-links-container\").classList.add('submenu-links-active');\n        }\n      }\n\n      return;\n    }\n\n    // toggle nav if the hamburger menu is clicked\n    if (event.target.closest('.menu-links-toggle')) {\n      nav.classList.toggle('menu-links-active');\n      return;\n    }\n\n    // when click is outside of menus, close the latest menu\n    if (activeSubmenu) { // close any previously opened submenu\n      activeSubmenu.classList.remove('submenu-links-active');\n    }\n    else if (nav.classList.contains('menu-links-active')) {\n        nav.classList.remove('menu-links-active');\n    }\n  }\n\n  document.addEventListener('click', handleDocumentClick);\n})();\n\n/*\n * open/close nav link item menus when sidebar items are clicked \n * note the user decides whether to include internal tags or secondary links on the sidebar\n*/\n(function() {\n    const fillColor = getComputedStyle(document.documentElement).getPropertyValue('--icon-color').trim();\n    const internalTags = document.querySelector('.internal-tags');\n    const internalTagItems = internalTags.querySelectorAll('.sidebar-link-item');\n    const regex = /^##[0-9]*-/;  // this is the pattern of internal nag names that are to be used for secondary navigation\n    const containers = {\n        share: document.querySelector('.share-links-container'),\n        secondary: document.querySelector('.secondary-links-container'),\n        sidebar: document.querySelector('.sidebar')\n    };\n\n    function toggle(container) {\n        container.classList.toggle('display-item-details');\n    }\n\n    document.addEventListener('click', function(event) {\n        const { share, secondary, sidebar } = containers;\n\n        const clickedLink = event.target.closest('a');\n        if (sidebar?.contains(event.target) && clickedLink) {\n            return;\n        }\n\n        if (share?.contains(event.target)) {\n            toggle(share);\n            if (secondary?.classList.contains('display-item-details')) toggle(secondary);\n            if (sidebar?.classList.contains('display-item-details')) toggle(sidebar);\n            return;\n        }\n\n        if (secondary?.contains(event.target)) {\n            toggle(secondary);\n            if (share?.classList.contains('display-item-details')) toggle(share);\n            if (sidebar?.classList.contains('display-item-details')) toggle(sidebar);\n            return;\n        }\n\n        if (sidebar?.contains(event.target)) {\n            toggle(sidebar);\n            if (share?.classList.contains('display-item-details')) toggle(share);\n            if (secondary?.classList.contains('display-item-details')) toggle(secondary);\n            return;\n        }\n\n        /* close open menus when clicking outside */\n        if (share?.classList.contains('display-item-details')) toggle(share);\n        if (secondary?.classList.contains('display-item-details')) toggle(secondary);\n    });\n\n    /* \n    * remove the secondary nav indicator (e.g ##1-) from internal tag names. The number is optional and there to sort the icons\n    *\n    * make the sidebar icons 20px x 20px:\n    *  the svg element is embeded from the tag's feature_post image into the HTML so that we can dynamically adjut the \n    *  color according to dark mode settings (see dark-mode-toggle.js). \n    *  as a consequence, we can't control the height /width with css and have to do it here instead\n    */\n\n    /* the icons are loaded by the user - update the size and color so they are displayed consistently in the sidebar*/\n    function updateInternalTagIcons (icon) {\n        try {\n            // get the doc content from inside the icon object element\n            const svgDoc = icon.contentDocument;\n            if (! svgDoc ) return;\n\n            const svgElement = svgDoc.querySelector('svg');\n            if (svgElement) {\n                const viewBox = svgElement.getAttribute('viewBox');\n                const naturalWidth = svgElement.getAttribute('width');\n                const naturalHeight = svgElement.getAttribute('height');\n                if (!viewBox) {\n                    if (!naturalWidth || !naturalHeight){\n                        const bbox = svgElement.getBBox(); // Returns the bounding box of the element\n                        svgElement.setAttribute('viewBox', `0 0 ${bbox.width} ${bbox.height}`);\n                    } else {\n                        svgElement.setAttribute('viewBox', `0 0 ${naturalWidth} ${naturalHeight}`);\n                    }\n                }\n                svgElement.setAttribute('height', '20px');\n                svgElement.setAttribute('width', '20px');\n            \n                const elements = svgElement.querySelectorAll('path, circle, rect, ellipse');\n                elements.forEach(element => {\n                    element.setAttribute('fill', fillColor);\n                    element.setAttribute('stroke', fillColor);\n                });\n            }\n        } catch (e) {\n            console.error('Error adjusting SVG:', e);\n        }\n    }\n\n    if (internalTagItems) {\n        internalTagItems.forEach(internalTag => {\n\n            // if the user has tagged multiple posts/pages with this tag, the element will contain multiple links\n            // we keep the first (most recent publication) link\n            const firstLink = internalTag.querySelector('a');\n            let sibling = firstLink.nextElementSibling;\n            while (sibling) {\n                const nextSibling = sibling.nextElementSibling;\n                sibling.remove();\n                sibling = nextSibling;\n            }\n\n            const description = firstLink.querySelector('.sidebar-link-description');\n            const icon = firstLink.querySelector('.sidebar-link-icon');\n\n            if (description) {\n                if (regex.test(description.textContent)) {\n                    description.textContent = description.textContent.replace(regex,'');\n                } else {\n                    internalTag.remove(); // standard internal tags (these start with a single #) are not used in the navigation\n                }\n            }\n\n            // the document content for the object is from an external svg so may load after the doc\n            const svgDoc = icon.contentDocument;\n            if (svgDoc && svgDoc.querySelector('svg')) {\n                updateInternalTagIcons(icon);\n            } else {\n                // SVG isn't loaded yet, wait for load event\n                icon.addEventListener('load', () => {\n                    updateInternalTagIcons(icon);\n                });\n            }\n\n        });\n        internalTags.classList.remove('hidden'); // only show the icons after they are resized.\n\n        // for the secondary link items we use the first two characters of the words in the description instead of an icon\n        const secondaryLinksItems = document.querySelectorAll('.secondary-links .sidebar-link-item');\n        if (secondaryLinksItems) {\n            secondaryLinksItems.forEach(item => {\n                const span = document.createElement('span');\n                const itemDescription = item.querySelector('.sidebar-link-description') ;\n                if (itemDescription) {\n                    const words = itemDescription.textContent.replace(/[^a-zA-Z0-9\\s]/g, ' ').trim().split(/\\s+/);\n\n                    let firstLetters = words.slice(0, 2).map(word => word.charAt(0).toUpperCase()).join('');\n\n                    if (words.length === 1) {\n                        firstLetters=(itemDescription.textContent.slice(0, 2)).toUpperCase();\n                    }\n\n                    span.textContent = firstLetters;\n                    span.classList.add('sidebar-link-icon');\n                    const link=item.querySelector('.sidebar-link');\n                    if (link) {\n                        link.insertBefore(span,link.firstChild);\n                    }\n                }\n            });\n        }\n    }\n})();\n","/* pagination */\n(function (isInfinite, callback) {\n    var buttonElement = document.querySelector('.pagination');\n\n    // next link element\n    var nextElement = document.querySelector('link[rel=next]');\n    if (!nextElement && buttonElement) {\n        buttonElement.remove();\n        return;\n    }\n\n    // post list element\n    var currentArticleList = document.querySelector('.paginated');\n    if (!currentArticleList) {\n        return;\n    }\n\n    var buffer = 300;\n\n    var ticking = false;\n    var loading = false;\n\n    var lastScrollY = window.scrollY;\n    var lastWindowHeight = window.innerHeight;\n    var lastDocumentHeight = document.documentElement.scrollHeight;\n\n    function onPageLoad() {\n        if (this.status === 404) {\n            window.removeEventListener('scroll', onScroll);\n            window.removeEventListener('resize', onResize);\n            buttonElement.remove();\n            return;\n        }\n\n        // append next page of article-cards\n        // the next elements are organized as per index.hbs\n        var nextPageArticleList = this.response.querySelectorAll('.article-card');\n        var fragment = document.createDocumentFragment();\n        var elems = [];\n        nextPageArticleList.forEach(function (item) {\n            // document.importNode is important, without it the item's owner\n            // document will be different which can break resizing of\n            // `object-fit: cover` images in Safari\n\n            var clonedItem = document.importNode(item, true);\n\n            if (callback) {\n                clonedItem.style.position = 'absolute';\n                clonedItem.style.visibility = 'hidden';\n                elems.push(clonedItem);\n            }\n\n            fragment.appendChild(clonedItem);\n        });\n\n        currentArticleList.appendChild(fragment);\n\n        if (callback) {\n            callback(elems);\n        }\n\n        // set next link\n        var resNextElement = this.response.querySelector('link[rel=next]');\n        if (resNextElement) {\n            nextElement.href = resNextElement.href;\n        } else {\n            window.removeEventListener('scroll', onScroll);\n            window.removeEventListener('resize', onResize);\n            if (buttonElement) {\n                buttonElement.remove();\n            }\n        }\n\n        // sync status\n        lastDocumentHeight = document.documentElement.scrollHeight;\n        ticking = false;\n        loading = false;\n\n        if (isInfinite) {\n            imagesLoaded(currentArticleList, function () {\n                if (currentArticleList.getBoundingClientRect().bottom <= lastWindowHeight) {\n                    console.log(currentArticleList.getBoundingClientRect().bottom, lastWindowHeight)\n                    requestTick();\n                }\n            });\n        }\n    }\n\n    function onUpdate() {\n        // return if already loading\n        if (loading) {\n            return;\n        }\n\n        // return if not scroll to the bottom\n        if (isInfinite && lastScrollY + lastWindowHeight <= lastDocumentHeight - buffer) {\n            ticking = false;\n            return;\n        }\n\n        loading = true;\n\n        var xhr = new window.XMLHttpRequest();\n        xhr.responseType = 'document';\n\n        xhr.addEventListener('load', onPageLoad);\n\n        xhr.open('GET', nextElement.href);\n        xhr.send(null);\n    }\n\n    function requestTick() {\n        ticking || window.requestAnimationFrame(onUpdate);\n        ticking = true;\n    }\n\n    function onScroll() {\n        lastScrollY = window.scrollY;\n        requestTick();\n    }\n\n    function onResize() {\n        lastWindowHeight = window.innerHeight;\n        lastDocumentHeight = document.documentElement.scrollHeight;\n        requestTick();\n    }\n\n    if (isInfinite) {\n        window.addEventListener('scroll', onScroll, {passive: true});\n        window.addEventListener('resize', onResize);\n        requestTick();\n    } else {\n        buttonElement.addEventListener('click', requestTick);\n    }\n})(false);\n","/* copy link button (copies link and shows a tooltip)  */\n(function() {\n    const copyLinkElement = document.getElementById(\"copy-link\")  ;\n    if (! copyLinkElement)\n        return;\n\n    function copyLink() {\n        navigator.clipboard.writeText(window.location.href);\n\n        const tooltip = document.createElement('div');\n        tooltip.className = 'tooltip';\n        tooltip.textContent = 'Copied!';\n        copyLinkElement.appendChild(tooltip);\n\n        setTimeout(() => { tooltip.remove(); }, 1000);\n    }\n    copyLinkElement.addEventListener(\"click\", copyLink, false);\n})();","/*\n * table of contents initialistation\n*/\n(function () {\n    tocbot.init({\n    tocSelector: '.toc',\n    contentSelector: '.article',\n    hasInnerContainers: true\n    })\n    \n})();\n\n// safari fix  - toc not showing without a forced repaint - todo - retest\nwindow.onload = function() {\n  const toc = document.querySelector('.table-of-contents');\n  if (toc) {\n      // Force a repaint\n      toc.style.display = 'none';\n      toc.offsetHeight;\n      toc.style.display = 'flex';\n  }\n};\n\n/* \n * toggle mobile toc when toc icon is clicked\n*/\n(function() {\n    const tocButton = document.querySelector(\".toc-toggle\");\n    const tableOfContents = document.querySelector(\".table-of-contents\");\n\n    if (!tableOfContents) {\n      return;\n    }\n  \n    function toggleTableOfContents(){\n        tableOfContents.classList.toggle(\"toc-open\");\n    }\n    if (!tocButton) {\n      return;\n    }\n\n    window.addEventListener('click', function(e){\n      let tocOpenElement = null;\n      tocOpenElement = tableOfContents.querySelector(\".toc-open\");\n\n      if (tocOpenElement && tocOpenElement.contains(e.target)) {\n          return;\n      }\n\n      // Close TOC when clicking outside the TOC\n      if (!tableOfContents.contains(e.target) && !tocButton.contains(e.target) && tableOfContents.classList.contains(\"toc-open\")) {\n          toggleTableOfContents();\n      }\n    });\n  \n    /* Toggle mobile toc */\n    tocButton.addEventListener('click', toggleTableOfContents, false);\n  \n  })();\n\n\n/*\n * update reading progress based on scroll position\n*/\n(function () {\n  const tocToggleButton = document.querySelector('.toc-toggle');\n  if (!tocToggleButton) {\n    return;\n  }\n\n  function updateProgress() {\n    const totalHeight = document.body.clientHeight;\n    const windowHeight = document.documentElement.clientHeight;\n    const position = window.scrollY;\n    const progress = position / (totalHeight - windowHeight)*100;\n    tocToggleButton.setAttribute('data-progress', `${progress.toFixed(0)}%`);\n\n    // this is used to update the circular progress bar show around the toc button\n    tocToggleButton.style.setProperty(\n    '--conic-gradient',\n    `var(--reading-progress-color) 0deg 0%,  \n      var(--reading-progress-color) 0deg ${ progress.toFixed(3) }%,\n      var(--background-color) 0deg ${ 1 - progress.toFixed(3) }%,\n      var(--background-color) 0deg 360deg`,\n    );\n    requestAnimationFrame(updateProgress);\n  }\n  requestAnimationFrame(updateProgress);\n})();\n","\n/* \nas of PhotoSwipe5 the script is imported as an ES module.   This means that this script must be imported into\nthe web page using\n<script type=\"module\" >\n</scipt>\n*/\nimport PhotoSwipeLightbox from './photoswipe-lightbox.esm.min.js';\n(function () {\n  const arrow =  ' <svg aria-hidden=\"true\" class=\"pswp__icn\" viewBox=\"0 0 32 30\" width=\"32\" height=\"30\">\\\n    <path d=\"M26.667 14.667v2.667h-16L18 24.667l-1.893 1.893L5.547 16l10.56-10.56L18 7.333l-7.333 7.333h16z\"> \\\n    </path> </svg>';\n\n  const options = {\n    arrowPrevSVG: arrow,\n    arrowNextSVG: arrow,\n    zoom: false,\n    gallery: '.kg-image-card, .kg-gallery-card',\n    children: 'img',\n    bgOpacity: 0.8,\n    closeOnScroll: true,\n    Xpadding: { top: 40, bottom: 40, left: 0, right: 0 },\n    imageClickAction: 'close',\n    tapAction: 'close',\n    pswpModule: () => import('./photoswipe.esm.min.js')\n  };\n\n  const lightbox = new PhotoSwipeLightbox(options);\n\n  lightbox.init();\n\n  /* \n  modify the item data used by photoswipe based on the attributes on the card image.\n  For images without height and width variables (e.g from posts converted from wordpress \n  the attributes are retrieved from the image\n  */\n  lightbox.addFilter('domItemData', (itemData, element, linkEl) => {\n\n    if (itemData) {\n      itemData.w = element.getAttribute(\"width\");\n      itemData.h = element.getAttribute(\"height\");\n      if ( ! itemData.h || ! itemData.w ) {\n        // get the original image size\n        itemData.w = element.naturalWidth;\n        itemData.h = element.naturalHeight;\n      }\n      itemData.src = element.getAttribute(\"src\");\n      itemData.srcset = element.getAttribute(\"srcset\");\n    }\n    return itemData;\n  });\n})();\n","/* this function will open a pop-up window asking the user to check their inbox having enrolled for a newsletter\n* as of 2024/09 this is only required for newsletter registrations.  When using the portal/sign-up feature \n* Ghost automatically opens a similar window\n*/\n(function() {\n    const dialog = document.querySelector(\".enrol-dialog\");\n    const closeButton = document.querySelector(\".enrol-dialog-button\");\n    const form = document.querySelector(\"form.enrol-newsletter\");\n\n    if (dialog && closeButton) {\n        closeButton.addEventListener(\"click\", () => {\n            dialog.close();\n            dialog.style.display = \"none\"; \n        });\n    }\n\n    if (form) {\n        const observer = new MutationObserver((mutations) => {\n            for (const mutation of mutations) {\n                if (mutation.attributeName === \"class\" && mutation.target.classList.contains(\"success\")) {\n                    dialog.showModal();\n                    dialog.style.display = \"flex\";\n                    break; \n                }\n            }\n        });\n        observer.observe(form, { attributes: true, attributeFilter: [\"class\"] });\n    }\n})();\n\n","/* \n * utilty for use with demo version of transmission \n * create a customs options picker and set class entries on the <site> element to reflect the picked option\n *\n * the behaviour of the options is determined by demo.js\n * \n * to enable this functionality, use code injection to insert a data-demo-site attribute to root of the doc\n *      <script>\n *          document.documentElement.setAttribute('data-demo-site', 'true');\n *      </script>\n*/\n\n(function() {\n    const site = document.querySelector('[data-demo-site=\"true\"] .site');\n    const downloadIcon =`<svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <title></title> <g id=\"Complete\"> <g id=\"download\"> <g> <path d=\"M3,12.3v7a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2v-7\" fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"></path> <g> <polyline data-name=\"Right\" fill=\"none\" id=\"Right-2\" points=\"7.9 12.3 12 16.3 16.1 12.3\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"></polyline> <line fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" x1=\"12\" x2=\"12\" y1=\"2.7\" y2=\"14.2\"></line> </g> </g> </g> </g> </g></svg>`;\n    const gearIcon = `<svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19.19 3.757A1 1 0 0018.22 3h-4.44a1 1 0 00-.97.757l-.66 2.644a1 1 0 01-.47.623l-1.291.747a1 1 0 01-.776.095l-2.62-.75a1 1 0 00-1.142.462l-2.219 3.844a1 1 0 00.171 1.219l1.96 1.895a1 1 0 01.305.719v1.49a1 1 0 01-.305.72l-1.96 1.894a1 1 0 00-.17 1.22l2.218 3.843a1 1 0 001.141.461l2.61-.746a1 1 0 01.793.106l.963.584a1 1 0 01.43.54l.984 2.95a1 1 0 00.949.683h4.558a1 1 0 00.949-.684l.982-2.947a1 1 0 01.435-.542l.982-.587a1 1 0 01.79-.103l2.59.745a1 1 0 001.142-.461l2.222-3.848a1 1 0 00-.166-1.214l-1.933-1.896a1 1 0 01-.3-.713v-1.5a1 1 0 01.3-.713l1.933-1.896a1 1 0 00.166-1.214l-2.222-3.848a1 1 0 00-1.142-.46l-2.6.747a1 1 0 01-.774-.093l-1.31-.75a1 1 0 01-.474-.625l-.66-2.64z\"></path> <circle cx=\"16\" cy=\"16\" r=\"5\" stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"2\"></circle> </g></svg>`;\n    const downloadURL = `https://github.com/nickabs/transmission/releases/latest/download/transmission.zip`;\n    if (!site) {\n        return false;\n    }\n\n    const classAlternatives = {\n        // list of the custom options \n        siteWide: {\n            navBarStyle: ['expanded-nav', 'minified-nav'],\n            navBarOption: ['fixed-navigation-bar' , 'scrolling-navigation-bar'],\n            heroStyle: ['hero-style-plain', 'hero-style-color-image', 'hero-style-grayscale-image'],\n            sidebarOption: ['sidebar-top','sidebar-left', 'sidebar-right', 'sidebar-bottom' , 'sidebar-none'],\n            footerOption: [ 'footer-style-all', 'footer-style-copyright-privacy', 'footer-style-copyright', 'footer-style-privacy',\n                'footer-style-ghost-theme', 'footer-style-ghost', 'footer-style-none' ],\n            enrolOption: ['newsletter','subscribe','newsletter-subscribe','enrol-none'],\n            authorOption: ['show-author-names', 'show-author-images', 'show-author-names-and-images', \n                    'show-author-none'],\n        },\n        homePage: {\n            focusPosition: ['home-page-list', 'home-page-focus-right', 'home-page-focus-left'],\n        },\n        post: {\n            tableOfContentsOption: ['post-toc-full','post-toc-minified','post-toc-none'],\n            relatedPostsOption: ['show-related-posts', 'hide-related-posts'],\n            oneTimePaymentRequest: ['show-payment-request', 'hide-payment-request']\n        }\n    };\n    \n    function updateSiteClass(property, className) {\n        const section = Object.values(classAlternatives).find(section => property in section);\n        if (!section) return false;\n    \n        const validClasses = section[property];\n        if (!validClasses.includes(className)) {\n            console.error(`Invalid class name: ${className} for property: ${property}`);\n            return false;\n        }\n    \n        //remove the class option previously selected and add the new one\n        validClasses.forEach(cls => site.classList.remove(cls));\n        site.classList.add(className);\n        return true;\n    }\n\n\n    function createDemoOptions() {\n        const demoOptions = document.createElement('aside');\n        demoOptions.classList.add('demo-options','options-picker-closed');\n\n        const demoOptionsButton = document.createElement('button');\n        demoOptionsButton.innerHTML = `\n            ${gearIcon}\n            <div class=\"demo-options-button-description\">Customise</div>\n        `;\n\n        demoOptionsButton.classList.add('icon','demo-options-button')\n        demoOptions.appendChild(demoOptionsButton);\n\n        demoOptionsButton.addEventListener('click', () => {\n            console.log('click');\n            demoOptions.classList.toggle('options-picker-closed');\n        });\n\n\n        const optionsPickerContainer = createOptionsPickerContainer();\n        demoOptions.appendChild(optionsPickerContainer);\n\n        const hr = document.createElement('hr');\n        demoOptions.appendChild(hr);\n\n        const downloadLink = document.createElement('a');\n        downloadLink.href= `${downloadURL}`\n        downloadLink.classList.add('icon','download-link')\n        downloadLink.innerHTML = `\n            ${downloadIcon}\n            <div class=\"download-button-description\">Download</div>\n        `;\n\n        //<a href=\"path/to/yourfile.pdf\" download class=\"download-link\">Download File</a>\n        demoOptions.appendChild(downloadLink);\n\n\n        return demoOptions;\n    }\n\n    function createOptionsPickerContainer() {\n        const container = document.createElement('div');\n        container.classList.add('options-picker-container');\n\n        const form = document.createElement('form');\n        form.classList = 'options-picker-form';\n    \n        // Create fieldsets for each section (siteWide, home, page)\n        Object.entries(classAlternatives).forEach(([sectionName, properties]) => {\n\n            const fieldset = document.createElement('fieldset');\n            fieldset.classList.add('form-fieldset');\n\n            const legend = document.createElement('legend');\n\n            const pretifiedSectionName = sectionName.charAt(0).toUpperCase() + sectionName.slice(1).replace(/([A-Z])/g, ' $1');\n\n            legend.textContent = pretifiedSectionName + ' Options'; \n            \n            fieldset.appendChild(legend);\n\n            /*\n             * Create form groups for each option (navBarStyle, heroStyle ...) in this section\n             *  <form>\n             *      <label>nav bar style</label>\n             *      <select>\n             *          <option>expanded-nav</option>\n             *          ...\n            */\n            \n            Object.entries(properties).forEach(([property, options]) => {\n                const formGroup = document.createElement('div');\n                formGroup.classList.add('form-group');\n    \n                const label = document.createElement('label');\n                label.setAttribute('for', property);\n                label.classList.add('form-label');\n                label.textContent = property.replace(/([A-Z])/g, ' $1').toLowerCase();\n    \n                const select = document.createElement('select');\n                select.id = property;\n                select.classList.add('form-select');\n                select.name = property;\n\n                let placeholderOption = document.createElement('option');\n                placeholderOption.value=\"\"\n                placeholderOption.selected = true; \n                placeholderOption.disabled = true; \n                placeholderOption.textContent = `Select ${\"aeiou\".includes(label.textContent.charAt(0).toLowerCase()) ? \"an\" : \"a\"} ${label.textContent}`;\n\n                select.appendChild(placeholderOption);\n    \n                options.forEach(optionValue => {\n                    const option = document.createElement('option');\n                    option.value = optionValue;\n                    option.textContent = optionValue;\n                    select.appendChild(option);\n                });\n    \n                select.addEventListener('change', function() {\n                    updateSiteClass(property, this.value);\n                });\n\n                formGroup.appendChild(label);\n                formGroup.appendChild(select);\n                fieldset.appendChild(formGroup);\n            });\n    \n            const details = document.createElement('details')\n            details.open = false;\n\n            const summary = document.createElement('summary')\n            summary.textContent = `... ${pretifiedSectionName.toLowerCase()} options`\n\n            details.appendChild(summary);\n            details.appendChild(fieldset)\n            form.appendChild(details);\n\n            // only show one open section of the options at a time\n            details.querySelector('summary').addEventListener('click', (e) => {\n                document.querySelectorAll('.demo-options details').forEach(d => {\n                if (d !== details) d.open = false;\n                });\n            });\n\n        });\n    \n        container.appendChild(form);\n        return container;\n    }\n    \n    const demoOptions = createDemoOptions();\n    site.appendChild(demoOptions);\n})();"]}